\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{packages/font_sets}[2025/04/28 Font sets]

\RequirePackage{fontspec}
\RequirePackage{unicode-math}
\RequirePackage{xcolor}
\RequirePackage{xkeyval}
\RequirePackage{ifthen}

\newboolean{regularStyle}
\newboolean{knuthStyle}
\newboolean{utopiaStyle}
\newboolean{pretentiousStyle}

\setboolean{regularStyle}{false}
\setboolean{knuthStyle}{false}
\setboolean{utopiaStyle}{false}
\setboolean{pretentiousStyle}{false}





\DeclareOptionX{indent-after}[false]{%
    \def\parindentafter{noindentafter}
    }

\DeclareOptionX{indent-after}[true]{%
    \def\parindentafter{indentafter}
    }

\RequirePackage[\parindentafter]{titlesec}

\newcommand{\marginsecnumber}[1]{%
  \makebox[0pt][r]{#1\hspace{6pt}}%
}


% thank you @lockstep on the TeX stack exchange for this.
% https://tex.stackexchange.com/a/13275

\DeclareOptionX{style}[regular]{%
    \setboolean{regularStyle}{true}
}

\DeclareOptionX{style}[knuth]{%
    \setboolean{knuthStyle}{true}
}

\DeclareOptionX{style}[utopia]{%
    \setboolean{utopiaStyle}{true}
}

\DeclareOptionX{style}[pretentious]{%
    \setboolean{pretentiousStyle}{true}
}


% Oh yeah, it turns out we need those booleans.
\ifthenelse{\boolean{regularStyle}}{
    \RequirePackage{\packageDir/fonts/regular}%
    \RequirePackage{\packageDir/headers/regular}%
}{}

\ifthenelse{\boolean{knuthStyle}}{
    \RequirePackage{\packageDir/fonts/knuth}
    \RequirePackage{\packageDir/headers/knuth}
}{}

\ifthenelse{\boolean{utopiaStyle}}{
    \RequirePackage{\packageDir/fonts/utopia}
    \RequirePackage{\packageDir/headers/utopia}
}{}

\ifthenelse{\boolean{pretentiousStyle}}{
    \RequirePackage{\packageDir/fonts/pretentious}
    \RequirePackage{\packageDir/headers/pretentious}
}{}




\definecolor{s2Color}{HTML}{a0a0a0}
\definecolor{parColor}{RGB}{128, 128, 128}

% This will need to be adaptable for two-sided documents
\titleformat{\paragraph}[leftmargin]%
{\color{parColor}\sffamily\small\filright}%
{}{0.0em}{\color{parColor}}[]

\ExecuteOptionsX{style=regular, indent-after=none}

\ProcessOptionsX\relax

% Set itemize symbols
\renewcommand{\labelitemi}{\symbolFont{▪}}
\renewcommand{\labelitemii}{\symbolFont{▹}}
\renewcommand{\labelitemiii}{\symbolFont{•}}
\renewcommand{\labelitemiv}{\symbolFont{⟶}}

\endinput
